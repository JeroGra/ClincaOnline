<div appEnterAction (FlechasEvent)="FlechasCambiarGrafico($event)" (EnterEcapeEvent)="CapturarEscape($event)" class="card text-center">
  <ngx-spinner bdColor = "rgb(128,237,153)" size = "large" color = "#0f2636" type = "ball-scale-multiple" [fullScreen] = "true"><img style="width: 20rem;border-radius: 100px;" src="../../../assets/imagenes/gifLatido.gif"></ngx-spinner>
  
  <div class="card-header">
      Logs del sistema
    </div>
    <div appEnterAction [ubicacion]="'Tabla'" (EnterEcapeEvent)="CapturarEnter($event)" class="card-body">
        <div   class="container text-center tabla">
            <div  class="row tabla_cabecera">
              <div class="col colum">
                Logeado el
              </div>
              <div class="col colum">
                Log hace
              </div>
              <div class="col colum">
                ID Usuario
              </div>
              <div class="col colum">
                Tipo Usuario
              </div>
              <div class="col colum">
                Nombre Usuario
              </div>
            </div>
            <div style="overflow: scroll;height: 10rem;" class="cont-tabla" >
              <div   appColorHover [color]="'#80ED99'" [background]="'#0F2636'" appClickAction [log]="log" (logSelecEvent)="ObtenerLogSelecionado($event)" class="row tabla-datos" *ngFor="let log of logsS" >
                  <div class="col colum">
                      {{log.fechaLog | date : "yyyy/MM/dd hh:mm"}}hs
                  </div>
                  <div class="col colum">
                      {{log.fechaLog | fechaAH : log.fechaLog  }}
                  </div>
                  <div class="col colum">
                      {{log.user.id}}
                  </div>
                  <div class="col colum">
                      {{log.user.tipo}}
                  </div>
                  <div class="col colum">
                      {{log.user.nombre | uppercase }} {{log.user.apellido | uppercase }}
                  </div>
                </div>
              </div>
          </div>
    </div>
    <div class="card-footer text-body-secondary">
      <button (click)="onSaveLogs()" style="height: 2rem;"  class="btn-select-f rounded-1">
        <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-filetype-xlsx" viewBox="0 0 16 16">
          <path fill-rule="evenodd" d="M14 4.5V11h-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5L14 4.5ZM7.86 14.841a1.13 1.13 0 0 0 .401.823c.13.108.29.192.479.252.19.061.411.091.665.091.338 0 .624-.053.858-.158.237-.105.416-.252.54-.44a1.17 1.17 0 0 0 .187-.656c0-.224-.045-.41-.135-.56a1.002 1.002 0 0 0-.375-.357 2.028 2.028 0 0 0-.565-.21l-.621-.144a.97.97 0 0 1-.405-.176.37.37 0 0 1-.143-.299c0-.156.061-.284.184-.384.125-.101.296-.152.513-.152.143 0 .266.023.37.068a.624.624 0 0 1 .245.181.56.56 0 0 1 .12.258h.75a1.093 1.093 0 0 0-.199-.566 1.21 1.21 0 0 0-.5-.41 1.813 1.813 0 0 0-.78-.152c-.293 0-.552.05-.777.15-.224.099-.4.24-.527.421-.127.182-.19.395-.19.639 0 .201.04.376.123.524.082.149.199.27.351.367.153.095.332.167.54.213l.618.144c.207.049.36.113.462.193a.387.387 0 0 1 .153.326.512.512 0 0 1-.085.29.558.558 0 0 1-.255.193c-.111.047-.25.07-.413.07-.117 0-.224-.013-.32-.04a.837.837 0 0 1-.249-.115.578.578 0 0 1-.255-.384h-.764Zm-3.726-2.909h.893l-1.274 2.007 1.254 1.992h-.908l-.85-1.415h-.035l-.853 1.415H1.5l1.24-2.016-1.228-1.983h.931l.832 1.438h.036l.823-1.438Zm1.923 3.325h1.697v.674H5.266v-3.999h.791v3.325Zm7.636-3.325h.893l-1.274 2.007 1.254 1.992h-.908l-.85-1.415h-.035l-.853 1.415h-.861l1.24-2.016-1.228-1.983h.931l.832 1.438h.036l.823-1.438Z"/>
        </svg>
      </button>
    </div>
  </div>

  
  <div class="card text-center">
    <div class="card-header">
      <ul class="nav nav-tabs card-header-tabs">
          <li class="nav-item">
              <a class="nav-link " (click)="SelectFiltro('Especialidades')"   [ngClass]="(selectTEsp == true)? 'active' : '' ">
                <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-lungs-fill" viewBox="0 0 16 16">
                  <path d="M8 1a.5.5 0 0 1 .5.5v5.243L9 7.1V4.72C9 3.77 9.77 3 10.72 3c.524 0 1.023.27 1.443.592.431.332.847.773 1.216 1.229.736.908 1.347 1.946 1.58 2.48.176.405.393 1.16.556 2.011.165.857.283 1.857.24 2.759-.04.867-.232 1.79-.837 2.33-.67.6-1.622.556-2.741-.004l-1.795-.897A2.5 2.5 0 0 1 9 11.264V8.329l-1-.715-1 .715V7.214c-.1 0-.202.03-.29.093l-2.5 1.786a.5.5 0 1 0 .58.814L7 8.329v2.935A2.5 2.5 0 0 1 5.618 13.5l-1.795.897c-1.12.56-2.07.603-2.741.004-.605-.54-.798-1.463-.838-2.33-.042-.902.076-1.902.24-2.759.164-.852.38-1.606.558-2.012.232-.533.843-1.571 1.579-2.479.37-.456.785-.897 1.216-1.229C4.257 3.27 4.756 3 5.28 3 6.23 3 7 3.77 7 4.72V7.1l.5-.357V1.5A.5.5 0 0 1 8 1Zm3.21 8.907a.5.5 0 1 0 .58-.814l-2.5-1.786A.498.498 0 0 0 9 7.214V8.33l2.21 1.578Z"/>
                </svg>
              </a>
          </li>
          <li class="nav-item">
              <a class="nav-link " (click)="SelectFiltro('Dias')"  [ngClass]="(selectFTdia == true)? 'active' : '' " >
                <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-calendar2-day-fill" viewBox="0 0 16 16">
                  <path d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zm9.954 3H2.545c-.3 0-.545.224-.545.5v1c0 .276.244.5.545.5h10.91c.3 0 .545-.224.545-.5v-1c0-.276-.244-.5-.546-.5zm-2.24 4.855a.428.428 0 1 0 0-.855.426.426 0 0 0-.429.43c0 .238.192.425.43.425zm.337.563h-.672v4.105h.672V8.418zm-6.867 4.105v-2.3h2.261v-.61H4.684V7.801h2.464v-.61H4v5.332h.684zm3.296 0h.676V9.98c0-.554.227-1.007.953-1.007.125 0 .258.004.329.015v-.613a1.806 1.806 0 0 0-.254-.02c-.582 0-.891.32-1.012.567h-.02v-.504H7.98v4.105z"/>
                </svg>
              </a>
          </li>
          <li class="nav-item">
              <a class="nav-link " (click)="SelectFiltro('Fecha')"   [ngClass]="(selectFechaGrafico == true)? 'active' : '' " >
                <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-calendar2-plus-fill" viewBox="0 0 16 16">
                  <path d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM2 3.5v1c0 .276.244.5.545.5h10.91c.3 0 .545-.224.545-.5v-1c0-.276-.244-.5-.546-.5H2.545c-.3 0-.545.224-.545.5zm6.5 5a.5.5 0 0 0-1 0V10H6a.5.5 0 0 0 0 1h1.5v1.5a.5.5 0 0 0 1 0V11H10a.5.5 0 0 0 0-1H8.5V8.5z"/>
                </svg>
              </a>
          </li>
      </ul>
  </div>
    <div class="card-header text-center" style="font-weight: bolder;">
      {{tituloGrafico}}
    </div>
    <div  class="card-body">

      <canvas 
      height="100"
      width="350"
      baseChart
      class="chart"
      [data]="barCharDataTurnoEsp"
      [options]="barChartOptions"
      [plugins]="barChartPlugins"
      [type]="barChartType"
      (chartHover)="chartHovered($event)"
      (chartClick)="chartClicked($event)"
    >
    </canvas>

    </div>



    <div  *ngIf="selectFechaGrafico" class="card-body">
      <div *ngIf="!mostrarGrafico2" class="input-group input-group-sm mb-3">
        <span class="input-group-text" id="inputGroup-sizing-sm">Desde la fecha</span>
        <input name="fechaI" [(ngModel)]="fechaI" type="date" class="form-control" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-sm">
        <span class="input-group-text" id="inputGroup-sizing-sm">Hasta la fecha</span>
        <input name="fechaF" [(ngModel)]="fechaF" type="date" class="form-control" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-sm">
      </div>
      <canvas *ngIf="mostrarGrafico2"
      height="100"
      width="350"
      baseChart
      class="chart"
      [data]="barCharDataTurnoEsp"
      [options]="barChartOptions"
      [plugins]="barChartPlugins"
      [type]="barChartType"
      (chartHover)="chartHovered($event)"
      (chartClick)="chartClicked($event)"
    >
    </canvas>
    </div>
    <div *ngIf="selectFechaGrafico" class="card-footer text-body-secondary">
      <div class="input-group input-group-sm mb-3">
        <button (click)="SetArrayGraficoTurnosFinalizadosEsp()" style="height: 4rem;"  class="btn-select-f rounded-1">Finalizados por medico</button>
        <button (click)="SetArrayGraficoTurnosSolicitadosEsp()" style="height: 4rem;"  class="btn-select-f rounded-1">Solicitados por medico</button>
      </div>
    </div>

    <div  class="card-footer text-body-secondary">
      <button (click)="onSaveGrafico()" style="height: 2rem;"  class="btn-select-f rounded-1">
        <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-filetype-xlsx" viewBox="0 0 16 16">
          <path fill-rule="evenodd" d="M14 4.5V11h-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5L14 4.5ZM7.86 14.841a1.13 1.13 0 0 0 .401.823c.13.108.29.192.479.252.19.061.411.091.665.091.338 0 .624-.053.858-.158.237-.105.416-.252.54-.44a1.17 1.17 0 0 0 .187-.656c0-.224-.045-.41-.135-.56a1.002 1.002 0 0 0-.375-.357 2.028 2.028 0 0 0-.565-.21l-.621-.144a.97.97 0 0 1-.405-.176.37.37 0 0 1-.143-.299c0-.156.061-.284.184-.384.125-.101.296-.152.513-.152.143 0 .266.023.37.068a.624.624 0 0 1 .245.181.56.56 0 0 1 .12.258h.75a1.093 1.093 0 0 0-.199-.566 1.21 1.21 0 0 0-.5-.41 1.813 1.813 0 0 0-.78-.152c-.293 0-.552.05-.777.15-.224.099-.4.24-.527.421-.127.182-.19.395-.19.639 0 .201.04.376.123.524.082.149.199.27.351.367.153.095.332.167.54.213l.618.144c.207.049.36.113.462.193a.387.387 0 0 1 .153.326.512.512 0 0 1-.085.29.558.558 0 0 1-.255.193c-.111.047-.25.07-.413.07-.117 0-.224-.013-.32-.04a.837.837 0 0 1-.249-.115.578.578 0 0 1-.255-.384h-.764Zm-3.726-2.909h.893l-1.274 2.007 1.254 1.992h-.908l-.85-1.415h-.035l-.853 1.415H1.5l1.24-2.016-1.228-1.983h.931l.832 1.438h.036l.823-1.438Zm1.923 3.325h1.697v.674H5.266v-3.999h.791v3.325Zm7.636-3.325h.893l-1.274 2.007 1.254 1.992h-.908l-.85-1.415h-.035l-.853 1.415h-.861l1.24-2.016-1.228-1.983h.931l.832 1.438h.036l.823-1.438Z"/>
        </svg>
      </button>
    </div>

  </div>
